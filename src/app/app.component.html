<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<!-- Toolbar -->
<div class="toolbar" role="banner">
  <img
    width="40"
    alt="Logo"
    src="assets/logo.svg"
  />
  <span>Modern Rentals</span>
    <div class="spacer"></div>
    <a aria-label="Angular on twitter" target="_blank" rel="noopener" href="https://twitter.com/angular" title="Twitter">
      <svg id="twitter-logo" height="24" data-name="Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">
        <rect width="400" height="400" fill="none"/>
        <path d="M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23" fill="#fff"/>
      </svg>
    </a>
    <a aria-label="Angular on YouTube" target="_blank" rel="noopener" href="https://youtube.com/angular" title="YouTube">
      <svg id="youtube-logo" height="24" width="24" data-name="Logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#fff">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"/>
      </svg>
    </a>
</div>

<div class="content" role="main">
  <div class="container">
    <h1>Modern Rentals</h1>
    <h3>Modern Rentals is a rental company that rents out cars.</h3>
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState" (closed)="!panelOpenState" [expanded]="true">
        <mat-expansion-panel-header>
          <mat-panel-title>
           <h3> Search for cars using these filters.</h3>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="row">
          <div class="col-md-6">
            <mat-form-field>
              <mat-label>Car Make</mat-label>
              <mat-select [(ngModel)]="filters.make" multiple>
                <mat-option *ngFor="let make of makers" [value]="make">
                  {{make}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field>
              <mat-label>Car Model</mat-label>
              <mat-select [(ngModel)]="filters.model" multiple>
                <mat-option *ngFor="let model of models" [value]="model">
                  {{model}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field>
              <mat-label>Min Rent</mat-label>
              <input matInput type="number" [(ngModel)]="filters.minPrice">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field >
              <mat-label>Max Rent</mat-label>
              <input matInput type="number" [min]="filters.minPrice+1" [(ngModel)]="filters.maxPrice">
            </mat-form-field>
            </div>
          <div class="col-md-6">
            <mat-form-field required>
              <mat-label>Start Date</mat-label>
              <input matInput required="true" [min]="today" [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="filters.startDate">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-hint>Required</mat-hint>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field>
              <mat-label>End Date</mat-label>
              <input matInput required="true" [min]="filters.startDate" [matDatepicker]="picker2" placeholder="Choose a date" [(ngModel)]="filters.endDate">
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
              <mat-hint>Required</mat-hint>
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <button mat-raised-button color="primary" (click)="search()">Search</button>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
    <mat-divider></mat-divider>
    <br/>
    <br/>
    <table class="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Car Make</th>
          <th>Car Model</th>
          <th>Rent Price</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let car of cars$; let i = index">
          <td>{{i + 1 + pageIndex*filters.limit}}</td>
          <td>{{car.make}}</td>
          <td>{{car.model}}</td>
          <td>{{car.price}}</td>
        </tr>
      </tbody>
    </table>

<mat-paginator [length]="length" [pageSize]="filters.limit" aria-label="Select page" (page)="onPaginateChange($event)">
</mat-paginator>
</div>